type User {
  id: ID!
  sub: String!
  name: String! @search(by: [term])
  todos: [Todo!] @hasInverse(field: user)
  hello: String! @lambda
}

type Todo {
  id: ID!
  text: String!
  dueDate: DateTime!
  completed: Boolean
  user: User!
}

type TodoCount {
  number: Int
}

type Query {
  todoCountForUser(id: ID!): TodoCount
    @custom(
      dql: """
      query q($id: string){
         todoCountForUser(func: uid($id), first: 1) {
             number: count(User.todos)
         }
      }
      """
    )
}
